"use strict";(self.webpackChunktweets=self.webpackChunktweets||[]).push([[709],{9709:function(e,s,r){r.r(s),r.d(s,{default:function(){return L}});var n=r(9439),a=r(2791),t=r(1087),l=r(5093),o=r(5218),i=r(5421),c=r(6098),u=r.n(c),d=function(e){return u()(e).format("0,0")},f="UserCard_userCard__tT-6-",_="UserCard_userName__kJqX5",g="UserCard_avatarThumb__agBFd",w="UserCard_avatar__1Ax7k",h="UserCard_dekorLine__MXhHc",m="UserCard_cardText__Mx7e2",x="UserCard_followBtn__BxdQi",j="UserCard_followingBtn__K4nlu",p=r(184),b=function(e){var s=e.user,r=e.tweets,t=e.followres,l=e.avatar,c=e.following,u=e.id,b=(0,i.kD)(),v=(0,n.Z)(b,2),N=v[0],C=v[1],k=C.isLoading,F=C.isSuccess,T=C.isError,U=function(){var e=!c,s=e?t+=1:t-=1;N({id:u,updatedFollowersAmount:s,followingStatus:e})};return(0,a.useEffect)((function(){F&&!c&&o.Am.success("You are following ".concat(s," now")),F&&c&&o.Am.success("You stoped following ".concat(s)),T&&!c&&o.Am.error("Ooops, something going wrong..."),T&&c&&o.Am.error("Ooops, something going wrong...")}),[F,T]),(0,p.jsxs)("div",{className:f,children:[(0,p.jsx)("p",{className:_,children:s}),(0,p.jsx)("div",{className:g,children:(0,p.jsx)("img",{className:w,src:l,alt:"avatar"})}),(0,p.jsx)("span",{className:h}),(0,p.jsxs)("p",{className:m,children:[d(r)," tweets"]}),(0,p.jsxs)("p",{className:m,children:[d(t)," followers"]}),c?(0,p.jsx)("button",{onClick:U,disabled:k,type:"button",className:j,children:k?(0,p.jsx)(p.Fragment,{children:"Changing status..."}):(0,p.jsx)(p.Fragment,{children:"Following"})}):(0,p.jsx)("button",{onClick:U,disabled:k,className:x,type:"button",children:k?(0,p.jsx)(p.Fragment,{children:"Changing status..."}):(0,p.jsx)(p.Fragment,{children:"Follow"})})]})},v="UsersList_usersList__91BD0",N=function(e){var s=e.users;return(0,p.jsx)("ul",{className:v,children:s&&s.map((function(e){var s=e.user,r=e.tweets,n=e.followres,a=e.avatar,t=e.id,l=e.following;return(0,p.jsx)("li",{children:(0,p.jsx)(b,{user:s,tweets:r,followres:n,avatar:a,id:t,following:l})},t)}))})},C=r(304),k="ErrorMessage_errorText__HBUoT",F=function(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("p",{className:k,children:"Oooops, something going wrong, refresh the page"})})},T="Tweets_btnWraper__pz2fO",U="Tweets_paginationBtn__NOWZi",B="Tweets_currentPage__bdLSB",S="Tweets_tweetsHeader__ZiIYB",Z="Tweets_backLink__yzW7-",A="Tweets_select__noGrM",L=function(){var e=(0,a.useState)(1),s=(0,n.Z)(e,2),r=s[0],o=s[1],c=(0,a.useState)([]),u=(0,n.Z)(c,2),d=u[0],f=u[1],_=(0,a.useState)({label:"Show all",value:"all"}),g=(0,n.Z)(_,2),w=g[0],h=g[1],m=(0,i.zQ)(r),x=m.data,j=m.isFetching,b=m.isError;return(0,a.useEffect)((function(){f(function(e,s){switch(s.value){case"followings":return e.filter((function(e){return e.following}));case"follow":return e.filter((function(e){return!e.following}));default:return e}}(x,w))}),[x,w]),(0,p.jsx)(p.Fragment,{children:b?(0,p.jsx)(F,{}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:S,children:[(0,p.jsx)(l.ZP,{className:A,defaultValue:w,onChange:h,options:[{value:"all",label:"Show all"},{value:"follow",label:"Follow"},{value:"followings",label:"Followings"}]}),(0,p.jsx)(t.rU,{className:Z,to:"/",children:"Back to Home"})]}),j&&(0,p.jsx)(C.a,{}),(0,p.jsx)(N,{users:d}),(0,p.jsxs)("div",{className:T,children:[(0,p.jsx)("button",{className:U,type:"button",disabled:1===r,onClick:function(){return o(r-1)},children:"Previous"}),(0,p.jsx)("span",{className:B,children:r}),(0,p.jsx)("button",{className:U,type:"button",disabled:3===r,onClick:function(){return o(r+1)},children:"Next"})]})]})})}}}]);
//# sourceMappingURL=709.c1216448.chunk.js.map