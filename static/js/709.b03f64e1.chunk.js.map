{"version":3,"file":"static/js/709.b03f64e1.chunk.js","mappings":"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","sources":["helpers/convertNumber.js","webpack://tweets/./src/components/UserCard/UserCard.module.scss?b287","components/UserCard/UserCard.jsx","webpack://tweets/./src/components/UsersList/UsersList.module.scss?2298","components/UsersList/UsersList.jsx","webpack://tweets/./src/components/ErrorMessage/ErrorMessage.module.scss?a3ad","components/ErrorMessage/ErrorMessage.jsx","webpack://tweets/./src/pages/Tweets.module.scss?b9d5","pages/Tweets.js","helpers/getFilteredUsers.js"],"sourcesContent":["import numeral from \"numeral\";\nexport const convertNumber = (number) => numeral(number).format(\"0,0\");\n","// extracted by mini-css-extract-plugin\nexport default {\"userCard\":\"UserCard_userCard__tT-6-\",\"userName\":\"UserCard_userName__kJqX5\",\"avatarDekor\":\"UserCard_avatarDekor__TxL4t\",\"avatar\":\"UserCard_avatar__1Ax7k\",\"cardText\":\"UserCard_cardText__Mx7e2\",\"followBtn\":\"UserCard_followBtn__BxdQi\",\"followingBtn\":\"UserCard_followingBtn__K4nlu\"};","import { useEffect } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { useUpdateUserMutation } from \"../../redux/usersAPI\";\nimport { convertNumber } from \"../../helpers/convertNumber\";\nimport css from \"./UserCard.module.scss\";\n\nexport const UserCard = ({\n  user,\n  tweets,\n  followres,\n  avatar,\n  following,\n  id,\n}) => {\n  const [updateUser, { isLoading, isSuccess, isError }] =\n    useUpdateUserMutation();\n\n  const handleFollowingStatus = () => {\n    const followingStatus = !following;\n    const updatedFollowersAmount = followingStatus\n      ? (followres += 1)\n      : (followres -= 1);\n\n    updateUser({\n      id,\n      updatedFollowersAmount,\n      followingStatus,\n    });\n  };\n\n  useEffect(() => {\n    isSuccess && !following && toast.success(`You are following ${user} now`);\n    isSuccess && following && toast.success(`You stoped following ${user}`);\n    isError && toast.error(`Ooops, something going wrong...`);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSuccess, isError]);\n\n  return (\n    <div className={css.userCard}>\n      <p className={css.userName}>{user}</p>\n      <div className={css.avatarDekor}>\n        <img className={css.avatar} src={avatar} alt=\"avatar\" />\n      </div>\n      <p className={css.cardText}>{convertNumber(tweets)} tweets</p>\n      <p className={css.cardText}>{convertNumber(followres)} followers</p>\n\n      {following ? (\n        <button\n          onClick={handleFollowingStatus}\n          disabled={isLoading}\n          type=\"button\"\n          className={css.followingBtn}\n        >\n          {isLoading ? <>Changing status...</> : <>Following</>}\n        </button>\n      ) : (\n        <button\n          onClick={handleFollowingStatus}\n          disabled={isLoading}\n          className={css.followBtn}\n          type=\"button\"\n        >\n          {isLoading ? <>Changing status...</> : <>Follow</>}\n        </button>\n      )}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"usersList\":\"UsersList_usersList__91BD0\"};","import { UserCard } from \"../UserCard/UserCard\";\n\nimport css from \"./UsersList.module.scss\";\n\nexport const UsersList = ({ users }) => {\n  return (\n    <ul className={css.usersList}>\n      {users &&\n        users.map(({ user, tweets, followres, avatar, id, following }) => (\n          <li key={id}>\n            <UserCard\n              user={user}\n              tweets={tweets}\n              followres={followres}\n              avatar={avatar}\n              id={id}\n              following={following}\n            />\n          </li>\n        ))}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"errorText\":\"ErrorMessage_errorText__HBUoT\"};","import css from \"./ErrorMessage.module.scss\";\n\nexport const ErrorMessage = () => {\n  return (\n    <p className={css.errorText}>\n      Oooops, something going wrong, refresh the page\n    </p>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"btnWraper\":\"Tweets_btnWraper__pz2fO\",\"paginationBtn\":\"Tweets_paginationBtn__NOWZi\",\"currentPage\":\"Tweets_currentPage__bdLSB\",\"tweetsHeader\":\"Tweets_tweetsHeader__ZiIYB\",\"backLink\":\"Tweets_backLink__yzW7-\",\"select\":\"Tweets_select__noGrM\",\"selectAlert\":\"Tweets_selectAlert__oPL3E\"};","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Select from \"react-select\";\nimport { UsersList } from \"../components/UsersList/UsersList\";\nimport { Loader } from \"../components/Loaders/Loader\";\nimport { ErrorMessage } from \"../components/ErrorMessage/ErrorMessage\";\nimport { useGetUsersQuery, useGetTotalUsersQuery } from \"../redux/usersAPI\";\nimport { getFilteredUsers } from \"../helpers/getFilteredUsers\";\nimport css from \"./Tweets.module.scss\";\n\nconst Tweets = () => {\n  const [page, setPage] = useState(1);\n  const [filteredUsers, setFilteredUsers] = useState([]);\n  const [totalUsers, setTotalUsers] = useState(0);\n  const [selectedOption, setSelectedOption] = useState({\n    label: \"Show all\",\n    value: \"all\",\n  });\n  const { data: users, isFetching, isError } = useGetUsersQuery(page);\n  const { data: allUsers } = useGetTotalUsersQuery();\n\n  const options = [\n    { value: \"all\", label: \"Show all\" },\n    { value: \"follow\", label: \"Follow\" },\n    { value: \"followings\", label: \"Followings\" },\n  ];\n\n  useEffect(() => {\n    allUsers && setTotalUsers(allUsers.length);\n  }, [allUsers]);\n\n  useEffect(() => {\n    setFilteredUsers(getFilteredUsers(users, selectedOption));\n  }, [users, selectedOption]);\n\n  return (\n    <>\n      {isError ? (\n        <ErrorMessage />\n      ) : (\n        <>\n          <div className={css.tweetsHeader}>\n            <Select\n              className={css.select}\n              defaultValue={selectedOption}\n              onChange={setSelectedOption}\n              options={options}\n            />\n            <Link className={css.backLink} to=\"/\">\n              Back to Home\n            </Link>\n          </div>\n\n          {isFetching && <Loader />}\n          {filteredUsers && filteredUsers.length === 0 ? (\n            <p className={css.selectAlert}>\n              Nothing to show, change filter's option\n            </p>\n          ) : (\n            <UsersList users={filteredUsers} />\n          )}\n\n          <div className={css.btnWraper}>\n            <button\n              className={css.paginationBtn}\n              type=\"button\"\n              disabled={page === 1}\n              onClick={() => setPage(page - 1)}\n            >\n              Previous\n            </button>\n            <span className={css.currentPage}>{page}</span>\n            <button\n              className={css.paginationBtn}\n              type=\"button\"\n              disabled={page >= totalUsers / 6}\n              onClick={() => setPage(page + 1)}\n            >\n              Next\n            </button>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Tweets;\n","export const getFilteredUsers = (users, filter) => {\n  switch (filter.value) {\n    case 'followings':\n      return users.filter(user => user.following);\n    case 'follow':\n      return users.filter(user => !user.following);\n    default:\n      return users;\n  }\n};\n"],"names":["convertNumber","number","numeral","format","UserCard","_ref","user","tweets","followres","avatar","following","id","_useUpdateUserMutatio","useUpdateUserMutation","_useUpdateUserMutatio2","_slicedToArray","updateUser","_useUpdateUserMutatio3","isLoading","isSuccess","isError","handleFollowingStatus","followingStatus","updatedFollowersAmount","useEffect","toast","success","concat","error","_jsxs","className","css","children","_jsx","src","alt","onClick","disabled","type","_Fragment","UsersList","users","map","_ref2","ErrorMessage","_useState","useState","_useState2","page","setPage","_useState3","_useState4","filteredUsers","setFilteredUsers","_useState5","_useState6","totalUsers","setTotalUsers","_useState7","label","value","_useState8","selectedOption","setSelectedOption","_useGetUsersQuery","useGetUsersQuery","data","isFetching","allUsers","useGetTotalUsersQuery","length","filter","getFilteredUsers","Select","defaultValue","onChange","options","Link","to","Loader"],"sourceRoot":""}